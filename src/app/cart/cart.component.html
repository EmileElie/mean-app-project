<h1>Your cart</h1>
<mat-spinner *ngIf="isLoading"></mat-spinner>
<!-- <mat-list *ngIf="!isLoading">
  <mat-list-item *ngFor="let item of items">
    <span
      [matBadge]="item.count"
      matBadgeColor="accent"
      matBadgePosition="before"
      matBadgeSize="medium"
    >
      <img
        matListAvatar
        class="cart-list-item-img"
        [matBadge]="item.count"
        matBadgeColor="warn"
        [src]="item.product.imagePath"
        [alt]="item.product.title"
      />
    </span>

    <span class="cart-list-item-info"> {{ item.product.title }} </span>
    <mat-action-list>
      <button mat-icon-button (click)="addItem(item.product.id)">
        <mat-icon color="primary">add</mat-icon>
      </button>
      <button mat-icon-button (click)="removeItem(item.product.id)">
        <mat-icon color="primary">remove</mat-icon>
      </button>
      <button mat-icon-button (click)="deleteItem(item.product.id)">
        <mat-icon color="warn">delete</mat-icon>
      </button>
    </mat-action-list>
  </mat-list-item>
</mat-list> -->
<div class="cart-list" *ngIf="!isLoading">
  <h4 class="cart-list-price-title">Prix</h4>
  <div class="cart-list-item" *ngFor="let item of cart.items">
    <span
      [matBadge]="item.count"
      matBadgeColor="accent"
      matBadgePosition="before"
      matBadgeSize="medium"
    >
      <img
        matListAvatar
        class="cart-list-item-img"
        [matBadge]="item.count"
        matBadgeColor="warn"
        [src]="item.product.imagePath"
        [alt]="item.product.title"
      />
    </span>
    <div class="cart-list-item-content">
      <h2>{{ item.product.title }}</h2>
      <div class="cart-list-item-action">
        <button mat-icon-button (click)="addItem(item.product.id)">
          <mat-icon color="primary">add</mat-icon>
        </button>
        <button mat-icon-button (click)="removeItem(item.product.id)">
          <mat-icon color="primary">remove</mat-icon>
        </button>
        <button mat-icon-button (click)="deleteItem(item.product.id)">
          <mat-icon color="warn">delete</mat-icon>
        </button>
      </div>
    </div>
    <h3 class="cart-list-item-price">{{ item.product.price * item.count }}€</h3>
  </div>
</div>
<hr>
<h3 style="text-align: end;">Sous-total ({{ cart.items.length }} articles): <strong>{{ cart.totalPrice }}€</strong></h3>
